\section{Results and Discussion}
% Make a table summarizing the range, resolution, repeatability, accuracy 
% (determined from your experiments), and the manufacturer’s stated accuracy for 
% the five ways we configured the Arduino to measure analog voltages. (State the 
% range in V and all other values in mV). The resolution can be calculated using 
% Equation 5 of the lecture notes. The manufacturer claims that the accuracy of the 
% Uno’s A/D converter is +/– 2 least significant bits (in other words, +/– 2 times the 
% resolution if the voltage range is scaled by a reference voltage, voltage divider, 
% amplified etc). 
% Discuss the following:
% b) Discuss the trade-off between the resolution of the ADC and its range. 
% c) How does the repeatability compare to the accuracy?
% d) Is the accuracy of the Arduino improved using an external reference voltage of 3.3 
% V compared to the default 5 V reference voltage?
% e) The voltage sources used to calibrate the Uno have an accuracy of 0.05%. Is this 
% accuracy sufficient? Why or why not?
% f) Compare the accuracy you measured to the accuracy claimed by the manufacturer. 
% g) The voltage divider, voltage scaler circuit, and amplifier create additional error 
% when they are used with the Arduino. Assume they have an error of 1% of reading. 
% What error in mV do they cause when measuring a voltage at 0.102 V and at 2.500 
% V? Is it a significant source of error compared to the accuracy of the Arduino?

\subsection{Calibration of the Arduino Uno Results and Discussion}
\noindent The results can be found in \ref{sec:appendix-arduino-accuracy} in Table \ref{tab:arduino-accuracy-appendix}.
%\subsection{Calibration of the Arduino Uno Discussion}
%\subsubsection{Trade-off Between Resolution and Range}
The trade-off between resolution and range is that as the range increases, the resolution decreases. This is because the number of bits
available to represent the range is fixed. From Appendix \ref{sec:appendix-resolution}, if the range is multiplied by a factor of $k$, then the resolution is also multiplied by a factor of $k$, increasing resolution error.

%\subsubsection{Repeatability Compared to Accuracy}
Repeatability is the maximum deviation between two measurements of the same reference quantity. Accuracy is the maximum deviation between the
measured value and the true value. Repeatability is a measure of precision while accuracy is a measure of correctness.

%\subsubsection{Accuracy of Arduino Uno with 3.3V Reference Voltage}
% d) Is the accuracy of the Arduino improved using an external reference voltage of 3.3 
% V compared to the default 5 V reference voltage?

% from lab manual:
% As you probably noticed the accuracy of the default Ardiuno is not very good. This is 
% because the Arduino uses the voltage supplied over the USB cable by your computer as the 
% reference voltage for the analog-to-digital converter. The Arduino assumes this voltage is 
% 5 V but in reality, it can vary between 4.5 to 5.5 V depending on the computer. This can 
% result in large errors. To make much more accurate measurements a reference voltage can 
% be used with the Arduino’s A/D converter by suppling a known voltage to the AREF pin 
% on the Arduino. The MecE 301 shield contains a 3.300 V reference voltage (top left corner 
% of the shield) that can be supplied to the Arduino A/D converter. If a reference voltage is 
% used then the range of the A/D converter will be 0 V to 3.3 V. Thus, changing the reference 
% voltage also changes the range and resolution of the A/D. 

\noindent The accuracy for the 5V reference voltage is $\pm \qty{54.00}{\milli\volt}$ while the accuracy for the 3.3V reference voltage is $\pm \qty{17.00}{\milli\volt}$. The accuracy of the Arduino Uno is improved
using the 3.3V reference voltage. Many computers do not supply exactly 5V over the USB cable and the Arduino's A/D converter assumes the voltage is 5V. 
Supplying a known voltage to the AREF pin from the MEC E 301 Shield allows for more accurate measurements.

%\subsubsection{Accuracy of Voltage Sources}
% e) The voltage sources used to calibrate the Uno have an accuracy of 0.05%. Is this 
% accuracy sufficient? Why or why not?
\noindent From Appendix \ref{sec:appendix-voltage-source-accuracy}, if we use a conservative estimate for the accuracy of the voltage source, which occurs at 2.500V, then the accuracy is $\pm \qty{1.250}{\milli\volt}$. ANSI/ISA 51.1 states that the accuracy of the standard
can be ignored should the accuracy be one tenth of the instrument tested. % probably should cite this

Comparing this to the accuracy of the Arduino Uno, in Table \ref{tab:arduino-accuracy-appendix} the accuracy of 
the voltage source is sufficient for all reference values except the setup with the 3.3V reference voltage and 10x amplifier, which has an experimental accuracy of $\pm\qty{0.000}{\milli\volt}$.


%\subsubsection{Accuracy of Arduino Uno Compared to Manufacturer's Accuracy}
% f) Compare the accuracy you measured to the accuracy claimed by the manufacturer.
\noindent Referring to Appendix \ref{sec:appendix-arduino-accuracy}, the experimental accuracy was worse than the manufacturer's accuracy for all configurations 
except the 3.3V reference voltage with a 10x amplifier and the 3.3V reference voltage with a [-10, 10]V range.

The 5V reference voltage has an accuracy of $\pm\qty{54.00}{\milli\volt}$ while the manufacturer's accuracy is $\pm \qty{9.766}{\milli\volt}$. This may be attributed 
to the variable reference voltage supplied by the computer


%\subsubsection{Additional Error from Voltage Divider, Voltage Scaler, and Amplifier}
% g) The voltage divider, voltage scaler circuit, and amplifier create additional error 
% when they are used with the Arduino. Assume they have an error of 1% of reading. 
% What error in mV do they cause when measuring a voltage at 0.102 V and at 2.500 
% V? Is it a significant source of error compared to the accuracy of the Arduino?

\noindent The calculation is shown in Appendix \ref{sec:appendix-circuit-component-accuracy}. The error at 0.102V is $\pm \qty{1.020}{\milli\volt}$ and the error at 2.500V is $\pm \qty{25.00}{\milli\volt}$. The error at 0.102 
is not significant while the error at 2.500V is significant by ANSI/ISA 51.1.

\subsection{Time Varying Voltage Results and Discussion}
\noindent Graphs of the time varying voltage can be found in Appendix \ref{sec:figures}. Figure \ref{fig:10bit} shows the time varying voltage for the 10-bit Arduino Uno. 
Figure \ref{fig:5bit} shows the time varying voltage for the 5-bit Arduino Uno. 
% 5) Considering the calculations you made in part 4), discuss the following:
% a) How do the Arduino measurements of mean voltage, frequency, and peak-to-peak 
% voltage compare to the oscilloscope measurements?
% b) Is the precision uncertainty in the frequency measurements with the 10-bit or 5-bit 
% Arduino large? How could the measurement of frequency with the Arduino be 
% improved?
% c) Did the 10-bit or 5-bit Arduino measurement of peak-to-peak voltage have the 
% highest total uncertainty? Was the highest uncertainty caused by precision
% uncertainty or bias uncertainty? What recommendations would you make to
% improve the measurement of the peak-to-peak voltage with the Arduino?

%\subsection{Time Varying Voltage Discussion}
%\subsubsection{Arduino Measurements Compared to Oscilloscope Measurements}
From Appendix \ref{sec:appendix-time-varying-voltage-measurements}, Table \ref{tab:time-varying-voltage-mean-measurements},
the Arduino measurements of mean voltage, frequency, and peak-to-peak voltage are $\qty{1.135}{\volt}$, $\qty{47.266}{\hertz}$, and $\qty{1.217}{\volt}$ respectively.
The oscilloscope measurements are $\qty{1.17}{\volt}$, $\qty{48.54}{\hertz}$, and $\qty{1.28}{\volt}$ respectively. The Arduino measurements are close 
to the oscilloscope measurements. 

The 10 and 5 bit frequencies do not overlap with the oscilloscope frequency. The 5-bit peak to peak voltage and mean voltage overlap with the oscilloscope measurements.
The 10-bit peak to peak voltage and mean voltage do not overlap with the oscilloscope measurements.

%\subsubsection{Precision Uncertainty in Frequency Measurements}
From Appendix \ref{sec:appendix-time-varying-voltage-measurements}, Table \ref{tab:time-varying-frequency-measurements}, both the 10-bit 
and 5-bit Arduino have a precision uncertainty of about $\pm\qty{0.4}{\hertz}$, which is about 1\% of the measured frequency. 
The measurement of frequency with the Arduino can be improved by increasing the number of samples taken.

%\subsubsection{Uncertainty in Peak-to-Peak Voltage Measurements}
From Appendix \ref{sec:appendix-time-varying-voltage-measurements}, Table \ref{tab:time-varying-peak-to-peak-voltage-results}, 
the 5-bit measurement of peak-to-peak voltage had the highest total uncertainty. For the 5-bit measurements, for both the peak and troughs, 
the precision and systematic uncertainty were $\pm\qty{0.01031}{\volt}$ and $\pm\qty{0.05156}{\volt}$ respectively. The highest uncertainty is caused by 
systematic uncertainty.

%\subsubsection{Recommendations to Improve Peak-to-Peak Voltage Measurements}
From Table \ref{tab:time-varying-peak-to-peak-voltage-uncertainty-measurements}, the systematic and precision uncertainty were approximately
$\pm\qty{0.01}{\volt}$ and $\pm\qty{0.02}{\volt}$ respectively. Increasing the number of bits and increasing the linearity of the Arduino Uno would decrease the systematic uncertainty.
Increasing the sample rate would decrease the precision uncertainty since the samples can \textit{catch} the peak and troughs of the sine wave better.  